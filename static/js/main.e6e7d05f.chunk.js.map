{"version":3,"sources":["context/CurrentUserContext.js","components/Card.js","components/Main.js","components/Header.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/AddPlacePopup.js","utils/api.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/App.js","serviceWorker.js","index.js","images/header/header__logo.svg"],"names":["CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","className","onClick","type","aria-label","src","link","alt","name","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","style","backgroundImage","avatar","about","map","key","Header","logo","Footer","ImagePopup","isClose","PopupWithForm","title","isOpen","onClose","children","onSubmit","submitTitle","method","action","noValidate","AddPlacePopup","titleRef","useRef","linkRef","useEffect","current","value","e","preventDefault","ref","id","placeholder","minLength","maxLength","required","api","baseUrl","headers","this","_baseUrl","_headers","Promise","all","getUserInfo","getInitialCards","res","ok","json","reject","status","fetch","then","_getStatus","data","body","JSON","stringify","item","like","authorization","EditAvatarPopup","onUpdateAvatar","isLoading","avatarRef","EditProfilePopup","onUpdateProfile","useState","setName","setAbout","onChange","target","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getServerData","userData","initialCards","catch","error","console","log","Provider","likeCard","newCard","newCards","c","deleteCard","filter","setUserInfo","createCard","changeAvatar","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message","module","exports"],"mappings":"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","file":"static/js/main.e6e7d05f.chunk.js","sourcesContent":["import React from \"react\";\n\nexport const CurrentUserContext = React.createContext()","import React from \"react\";\nimport {CurrentUserContext} from \"../context/CurrentUserContext\";\n\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\n  const currentUser = React.useContext(CurrentUserContext)\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleClickLike() {\n    onCardLike(card)\n  }\n\n  function handleClickDelete() {\n    onCardDelete(card)\n  }\n\n  const isOwn = card.owner._id === currentUser._id;\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n  const cardDeleteButtonClassName = (`element__btn_delete ${isOwn && 'element__btn_delete_active'}`)\n  const cardLikeButtonClassName = (`element__btn_like ${isLiked && 'element__btn_like_active'}`)\n\n  return (\n    <div className=\"element\">\n      <button\n        className={cardDeleteButtonClassName}\n        onClick={handleClickDelete}\n        type=\"button\"\n        aria-label=\"Удалить\"\n      />\n      <img\n        src={card.link}\n        onClick={handleClick}\n        className=\"element__img\"\n        alt={card.link}\n      />\n      <div className=\"element__description\">\n        <h2 className=\"element__name\">{card.name}</h2>\n        <div className=\"element__like-container\">\n          <button\n            className={cardLikeButtonClassName}\n            onClick={handleClickLike}\n            type=\"button\"\n            aria-label=\"Нравиться\"\n          />\n          <span className=\"element__like_counter\">\n            {card.likes.length > 0 ? `${card.likes.length}` : '0'}\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n","import React                from \"react\";\nimport Card                 from \"./Card.js\";\nimport {CurrentUserContext} from \"../context/CurrentUserContext\";\n\nfunction Main({onEditAvatar, onEditProfile, onCardDelete, onAddPlace, cards, onCardClick , onCardLike}) {\n  const currentUser = React.useContext(CurrentUserContext)\n\n  return (\n    <main>\n      <section className=\"profile\">\n        <div className=\"profile__image\">\n          <img\n            alt={\"\"}\n            style={{ backgroundImage: `url(${currentUser.avatar})` }}\n            className=\"profile__avatar\"\n          />\n          <button\n            onClick={onEditAvatar}\n            className=\"profile__avatar_change\"\n            type=\"button\"\n          />\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__edit-form\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button\n              onClick={onEditProfile}\n              className=\"profile__edit-btn\"\n              type=\"button\"\n              aria-label=\"Редактировать\"\n            />\n          </div>\n          <p className=\"profile__description\">{currentUser.about}</p>\n        </div>\n        <button\n          onClick={onAddPlace}\n          className=\"profile__add-btn\"\n          type=\"button\"\n          aria-label=\"Добавить\"\n        />\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"elements__list\">\n          {cards.map((card) =>\n            <Card\n              key={card._id}\n              card={card}\n              onCardClick={onCardClick}\n              onCardLike={onCardLike}\n              onCardDelete={onCardDelete}\n            />\n          )}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\nimport logo from \"../images/header/header__logo.svg\";\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img src={logo} alt=\"Место\" className=\"header__logo\" />\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020. Артём Аксёнов</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nfunction ImagePopup({ card, isClose }) {\n  return (\n    <section className={`popup popup_image ${card && 'popup_opened'}`}>\n      <figure className=\"popup__image_container\">\n        <button\n          onClick={isClose}\n          className=\"popup__close\"\n          type=\"button\"\n          aria-label=\"Закрыть\"\n        />\n        <img src={`${card.link}`} alt={''} className=\"popup__preview\"/>\n        <figcaption className=\"popup__image-title\">{card.name}</figcaption>\n      </figure>\n    </section>\n  );\n}\n\nexport default ImagePopup;\n","import React from \"react\";\n\nfunction PopupWithForm({name, title, isOpen, onClose, children, onSubmit, submitTitle}) {\n  return (\n    <section\n      className={`popup ${isOpen && 'popup_opened'}`}\n    >\n      <div className=\"popup__container\">\n        <button\n          onClick={onClose}\n          className=\"popup__close\"\n          type=\"button\"\n          aria-label=\"Закрыть\"\n        />\n        <h3 className=\"popup__title\">{title}</h3>\n        <form\n          className=\"popup__form popup__form_edit\"\n          name={name}\n          method=\"POST\"\n          onSubmit={onSubmit}\n          action=\"#\"\n          noValidate\n        >\n          {children}\n        </form>\n      </div>\n    </section>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({isOpen, onClose, onAddPlace}) {\n  const titleRef = React.useRef('')\n  const linkRef = React.useRef('')\n\n  React.useEffect(() => {\n    titleRef.current.value = ''\n    linkRef.current.value = ''\n  },[isOpen])\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    onAddPlace ({\n      name: titleRef.current.value,\n      link: linkRef.current.value\n    })\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Новое место\"\n      name=\"form-add\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <>\n        <label className=\"popup__label\">\n          <input\n            ref={titleRef}\n            id=\"title-input\"\n            type=\"text\"\n            className=\"popup__input popup__input_type_place\"\n            name=\"title\"\n            placeholder=\"Название\"\n            minLength=\"2\"\n            maxLength=\"30\"\n            required\n          />\n          <span id=\"title-input-error\" className=\"popup__error\" />\n        </label>\n        <label className=\"popup__label\">\n          <input\n            ref={linkRef}\n            id=\"url-input\"\n            type=\"url\"\n            className=\"popup__input popup__input_type_link\"\n            name=\"link\"\n            placeholder=\"Ссылка на картинку\"\n            required\n          />\n          <span id=\"url-input-error\" className=\"popup__error\" />\n        </label>\n        <button className=\"popup__button\" type=\"submit\">\n          Создать\n        </button>\n      </>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup\n\n\n","class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  getServerData() {\n    return Promise.all([this.getUserInfo(), this.getInitialCards()])\n  }\n\n  _getStatus(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Error! : ${res.status}`);\n    }\n  }\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n    }).then(this._getStatus);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n    }).then(this._getStatus);\n  }\n\n  setUserInfo(data) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      }),\n    }).then(this._getStatus);\n  }\n\n  changeAvatar(avatar) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar.avatar\n      }),\n    }).then(this._getStatus);\n  }\n\n  createCard(item) {\n    return fetch(`${this._baseUrl}/cards`,  {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: item.name,\n        link: item.link\n      })\n    }).then(this._getStatus);\n  }\n\n  likeCard(id, like) {\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\n      method: like ? \"PUT\" : \"DELETE\",\n      headers: this._headers,\n    }).then(this._getStatus);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._getStatus);\n  }\n}\n\nexport const api= new Api ({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14',\n  headers: {\n    authorization: 'c7ea0259-f390-4c4a-ac25-c955c79b8ace',\n    'Content-Type': 'application/json'\n  }\n});\n","import React         from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({onUpdateAvatar, isOpen, onClose, isLoading}) {\n  const avatarRef = React.useRef('')\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    onUpdateAvatar({\n      avatar: avatarRef.current.value\n    })\n  }\n\n  React.useEffect(() => {\n    avatarRef.current.value = ''\n  }, [isOpen])\n\n  return (\n    <PopupWithForm\n      title=\"Обновить аватар\"\n      name=\"avatar\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isLoading={isLoading}\n    >\n      <>\n        <label className=\"popup__label\">\n          <input\n            ref={avatarRef}\n            id=\"avatar-input\"\n            type=\"url\"\n            className=\"popup__input popup__input_type_avatar\"\n            name=\"avatar\"\n            placeholder=\"Ссылка на изображение\"\n            required\n          />\n          <span id=\"avatar-input-error\" className=\"popup__error\" />\n        </label>\n        <button className=\"popup__button\" type=\"submit\">\n          Сохранить\n        </button>\n      </>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup","import React                from \"react\";\nimport PopupWithForm        from \"./PopupWithForm\";\nimport {CurrentUserContext} from \"../context/CurrentUserContext\";\n\nfunction EditProfilePopup({onUpdateProfile, isOpen, onClose, isLoading}) {\n  const currentUser = React.useContext(CurrentUserContext)\n  const [name, setName] = React.useState('')\n  const [about, setAbout] = React.useState('')\n\n  function handleUpdateName(e) {\n    setName(e.target.value)\n  }\n\n  function handleUpdateAbout(e) {\n    setAbout(e.target.value)\n  }\n\n  React.useEffect(() => {\n    setName(currentUser.name)\n    setAbout(currentUser.about)\n  }, [currentUser])\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    onUpdateProfile({\n      name: name,\n      about: about\n    })\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Редактировать профиль\"\n      name=\"form-profile\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isLoading={isLoading}\n    >\n        <label className=\"popup__label\">\n          <input\n            onChange={handleUpdateName}\n            id=\"name-input\"\n            type=\"text\"\n            className=\"popup__input popup__input_type_name\"\n            value={name ? name : ''}\n            name=\"name\"\n            placeholder=\"Имя\"\n            minLength=\"2\"\n            maxLength=\"40\"\n            required\n          />\n          <span id=\"name-input-error\" className=\"popup__error\" />\n        </label>\n        <label className=\"popup__label\">\n          <input\n            onChange={handleUpdateAbout}\n            id=\"about-input\"\n            type=\"text\"\n            className=\"popup__input popup__input_type_description\"\n            value={about ? about : ''}\n            name=\"about\"\n            placeholder=\"Описание\"\n            minLength=\"2\"\n            maxLength=\"200\"\n            required\n          />\n          <span id=\"about-input-error\" className=\"popup__error\" />\n        </label>\n        <button className=\"popup__button\" type=\"submit\">\n          Сохранить\n        </button>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup","import React from \"react\";\nimport Main from \"./Main\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport {api} from \"../utils/api\";\nimport {CurrentUserContext} from '../context/CurrentUserContext'\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport EditProfilePopup from './EditProfilePopup'\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(\"\");\n  const [currentUser, setCurrentUser] = React.useState({})\n  const [cards, setCards] = React.useState([])\n\n  React.useEffect(() => {\n    api.getServerData()\n      .then(([userData, initialCards]) => {\n      setCurrentUser(userData)\n      setCards(initialCards);\n    })\n      .catch(error => console.log(error))\n  }, []);\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard('');\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleUpdateAvatar(data) {\n    api.changeAvatar(data)\n      .then((res) => {\n        setCurrentUser(res)\n        closeAllPopups()\n      })\n      .catch(error => console.log(error))\n  }\n\n  function handleUpdateUser(data) {\n    api.setUserInfo(data)\n      .then((res) => {\n        setCurrentUser(res)\n        closeAllPopups()\n      })\n      .catch(error => console.log(error))\n  }\n\n  function handleDeleteCard(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id)\n        setCards(newCards)\n      })\n      .catch(error => console.log(error))\n  }\n\n  function handleLikeCard(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id)\n\n    api.likeCard(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c)\n        setCards(newCards)\n      })\n      .catch(error => console.log(error))\n  }\n\n  function handleAddPlaceSubmit(item) {\n    api.createCard(item)\n      .then((res) => {\n        setCards([res, ...cards])\n        closeAllPopups()\n      })\n      .catch(error => console.log(error))\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n    <div className=\"root\">\n      <div className=\"page\">\n        <Header />\n        <Main\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          cards={cards}\n          onCardLike={handleLikeCard}\n          onCardDelete={handleDeleteCard}\n        />\n        <Footer />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateProfile={handleUpdateUser}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <PopupWithForm\n          title=\"Вы уверены?\"\n          name=\"form-confirm\"\n          onClose={closeAllPopups}>\n\n        </PopupWithForm>\n\n        <ImagePopup\n          card={selectedCard}\n          isClose={closeAllPopups}\n        />\n      </div>\n    </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App                from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/header__logo.c6f11019.svg\";"],"sourceRoot":""}